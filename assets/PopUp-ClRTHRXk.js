import{g as w,p as V,b as v,m as y,ac as b,eV as M,eW as H,s as k,C as O,r as R,an as q,M as I,w as S,H as z,a as W,Q as U,al as j,h as N,T as X,af as Y,ad as J,ag as Q,eA as G,eB as K,ah as Z,n as _,f as ee,x as te,y as ae,ai as ne,eE as oe,eF as se,aj as ie,ae as re,z as le,ak as ce,eI as ue,eJ as de,eX as me,a4 as C,a3 as B,a2 as x,a1 as fe,a6 as A,a8 as ge,a7 as P,aP as he}from"./index-COBZVAZ0.js";import{m as ve,V as D}from"./VOverlay-BRwgdqV5.js";import{a as p,g as ye,n as pe,b as xe,f as Pe}from"./forwardRefs-Dzk9q_hT.js";import"./transition-CeGxg4cX.js";const Ee=V({target:[Object,Array]},"v-dialog-transition"),E=new WeakMap,we=w()({name:"VDialogTransition",props:Ee(),setup(e,r){let{slots:n}=r;const l={onBeforeEnter(t){t.style.pointerEvents="none",t.style.visibility="hidden"},async onEnter(t,u){await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),t.style.visibility="";const a=L(e.target,t),{x:i,y:d,sx:m,sy:s,speed:c}=a;E.set(t,a);const f=p(t,[{transform:`translate(${i}px, ${d}px) scale(${m}, ${s})`,opacity:0},{}],{duration:225*c,easing:H});T(t)?.forEach(o=>{p(o,[{opacity:0},{opacity:0,offset:.33},{}],{duration:450*c,easing:k})}),f.finished.then(()=>u())},onAfterEnter(t){t.style.removeProperty("pointer-events")},onBeforeLeave(t){t.style.pointerEvents="none"},async onLeave(t,u){await new Promise(o=>requestAnimationFrame(o));let a;!E.has(t)||Array.isArray(e.target)||e.target.offsetParent||e.target.getClientRects().length?a=L(e.target,t):a=E.get(t);const{x:i,y:d,sx:m,sy:s,speed:c}=a;p(t,[{},{transform:`translate(${i}px, ${d}px) scale(${m}, ${s})`,opacity:0}],{duration:125*c,easing:M}).finished.then(()=>u()),T(t)?.forEach(o=>{p(o,[{},{opacity:0,offset:.2},{opacity:0}],{duration:250*c,easing:k})})},onAfterLeave(t){t.style.removeProperty("pointer-events")}};return()=>e.target?v(b,y({name:"dialog-transition"},l,{css:!1}),n):v(b,{name:"dialog-transition"},n)}});function T(e){const r=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list")?.children;return r&&[...r]}function L(e,r){const n=ye(e),l=pe(r),[t,u]=getComputedStyle(r).transformOrigin.split(" ").map($=>parseFloat($)),[a,i]=getComputedStyle(r).getPropertyValue("--v-overlay-anchor-origin").split(" ");let d=n.left+n.width/2;a==="left"||i==="left"?d-=n.width/2:(a==="right"||i==="right")&&(d+=n.width/2);let m=n.top+n.height/2;a==="top"||i==="top"?m-=n.height/2:(a==="bottom"||i==="bottom")&&(m+=n.height/2);const s=n.width/l.width,c=n.height/l.height,f=Math.max(1,s,c),o=s/f||0,h=c/f||0,g=l.width*l.height/(window.innerWidth*window.innerHeight),F=g>.12?Math.min(1.5,(g-.12)*10+1):1;return{x:d-(t+l.left),y:m-(u+l.top),sx:o,sy:h,speed:F}}const Ve=V({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...ve({origin:"center center",scrollStrategy:"block",transition:{component:we},zIndex:2400})},"VDialog"),be=w()({name:"VDialog",props:Ve(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,r){let{emit:n,slots:l}=r;const t=O(e,"modelValue"),{scopeId:u}=xe(),a=R();function i(s){const c=s.relatedTarget,f=s.target;if(c!==f&&a.value?.contentEl&&a.value?.globalTop&&![document,a.value.contentEl].includes(f)&&!a.value.contentEl.contains(f)){const o=U(a.value.contentEl);if(!o.length)return;const h=o[0],g=o[o.length-1];c===h?g.focus():h.focus()}}q(()=>{document.removeEventListener("focusin",i)}),I&&S(()=>t.value&&e.retainFocus,s=>{s?document.addEventListener("focusin",i):document.removeEventListener("focusin",i)},{immediate:!0});function d(){n("afterEnter"),(e.scrim||e.retainFocus)&&a.value?.contentEl&&!a.value.contentEl.contains(document.activeElement)&&a.value.contentEl.focus({preventScroll:!0})}function m(){n("afterLeave")}return S(t,async s=>{s||(await z(),a.value.activatorEl?.focus({preventScroll:!0}))}),W(()=>{const s=D.filterProps(e),c=y({"aria-haspopup":"dialog"},e.activatorProps),f=y({tabindex:-1},e.contentProps);return v(D,y({ref:a,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},s,{modelValue:t.value,"onUpdate:modelValue":o=>t.value=o,"aria-modal":"true",activatorProps:c,contentProps:f,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:d,onAfterLeave:m},u),{activator:l.activator,default:function(){for(var o=arguments.length,h=new Array(o),g=0;g<o;g++)h[g]=arguments[g];return v(j,{root:"VDialog"},{default:()=>[l.default?.(...h)]})}})}),Pe({},a)}}),ke=V({color:String,...ce(),...le(),...re(),...ie(),...se(),...oe(),...ne(),...ae(),...te()},"VSheet"),Se=w()({name:"VSheet",props:ke(),setup(e,r){let{slots:n}=r;const{themeClasses:l}=N(e),{backgroundColorClasses:t,backgroundColorStyles:u}=X(()=>e.color),{borderClasses:a}=Y(e),{dimensionStyles:i}=J(e),{elevationClasses:d}=Q(e),{locationStyles:m}=G(e),{positionClasses:s}=K(e),{roundedClasses:c}=Z(e);return W(()=>v(e.tag,{class:ee(["v-sheet",l.value,t.value,a.value,d.value,s.value,c.value,e.class]),style:_([u.value,i.value,m.value,e.style])},n)),{}}}),Ce={key:1},Le={__name:"PopUp",props:ue({widget:{type:Object,default:void 0},maxWidth:{type:String,default:"500px"},maxHeight:{type:String,default:"500px"},width:{type:String,default:"500px"},height:{type:String,default:"500px"}},{modelValue:{type:Boolean,required:!0,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const r=de(e,"modelValue"),n=e,l={maxWidth:n.maxWidth,maxHeight:n.maxHeight,width:n.width,height:n.height},[t]=me([n?.widget]);return(u,a)=>(x(),C("span",null,[v(be,y(l,{absolute:"",scrollable:"","scroll-strategy":"block","close-on-back":"",modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=i=>r.value=i)}),{default:B(()=>[v(Se,null,{default:B(()=>[e.widget?(x(),fe(ge(P(t).component),y({key:P(t).id},P(t).props),null,16)):A("v-if",!0),u.$slots.default?(x(),C("span",Ce,[he(u.$slots,"default")])):A("v-if",!0)]),_:3})]),_:3},16,["modelValue"])]))}};export{Le as default};
