import{g as w,p as V,b as v,m as y,ab as b,z as M,r as O,am as R,J as q,w as k,C as H,a as W,N as I,ak as N,e as U,Q as j,ae as z,ac as X,af as Y,bV as Z,bW as J,ag as Q,n as G,q as K,ah as _,bZ as ee,b_ as te,ai as ae,ad as ne,v as oe,aj as se,c1 as ie,c2 as re,ce as le,a1 as S,a0 as C,$ as x,Z as ce,a3 as B,a5 as ue,a4 as P,cf as de}from"./index-sM6GxOqw.js";import{m as fe,V as A}from"./VOverlay-B-kee1_q.js";import{a as p,g as me,n as ge,c as he,d as ve,s as D,b as ye,f as pe}from"./forwardRefs-Dix_J5XD.js";import"./transition-BCujElwf.js";const xe=V({target:[Object,Array]},"v-dialog-transition"),E=new WeakMap,Pe=w()({name:"VDialogTransition",props:xe(),setup(e,r){let{slots:n}=r;const l={onBeforeEnter(t){t.style.pointerEvents="none",t.style.visibility="hidden"},async onEnter(t,u){await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),t.style.visibility="";const a=T(e.target,t),{x:i,y:d,sx:f,sy:s,speed:c}=a;E.set(t,a);const m=p(t,[{transform:`translate(${i}px, ${d}px) scale(${f}, ${s})`,opacity:0},{}],{duration:225*c,easing:ve});L(t)?.forEach(o=>{p(o,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*c,easing:D})}),m.finished.then(()=>u())},onAfterEnter(t){t.style.removeProperty("pointer-events")},onBeforeLeave(t){t.style.pointerEvents="none"},async onLeave(t,u){await new Promise(o=>requestAnimationFrame(o));let a;!E.has(t)||Array.isArray(e.target)||e.target.offsetParent||e.target.getClientRects().length?a=T(e.target,t):a=E.get(t);const{x:i,y:d,sx:f,sy:s,speed:c}=a;p(t,[{},{transform:`translate(${i}px, ${d}px) scale(${f}, ${s})`,opacity:0}],{duration:125*c,easing:he}).finished.then(()=>u()),L(t)?.forEach(o=>{p(o,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*c,easing:D})})},onAfterLeave(t){t.style.removeProperty("pointer-events")}};return()=>e.target?v(b,y({name:"dialog-transition"},l,{css:!1}),n):v(b,{name:"dialog-transition"},n)}});function L(e){const r=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list")?.children;return r&&[...r]}function T(e,r){const n=me(e),l=ge(r),[t,u]=getComputedStyle(r).transformOrigin.split(" ").map(F=>parseFloat(F)),[a,i]=getComputedStyle(r).getPropertyValue("--v-overlay-anchor-origin").split(" ");let d=n.left+n.width/2;a==="left"||i==="left"?d-=n.width/2:(a==="right"||i==="right")&&(d+=n.width/2);let f=n.top+n.height/2;a==="top"||i==="top"?f-=n.height/2:(a==="bottom"||i==="bottom")&&(f+=n.height/2);const s=n.width/l.width,c=n.height/l.height,m=Math.max(1,s,c),o=s/m||0,h=c/m||0,g=l.width*l.height/(window.innerWidth*window.innerHeight),$=g>.12?Math.min(1.5,(g-.12)*10+1):1;return{x:d-(t+l.left),y:f-(u+l.top),sx:o,sy:h,speed:$}}const Ee=V({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...fe({origin:"center center",scrollStrategy:"block",transition:{component:Pe},zIndex:2400})},"VDialog"),we=w()({name:"VDialog",props:Ee(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,r){let{emit:n,slots:l}=r;const t=M(e,"modelValue"),{scopeId:u}=ye(),a=O();function i(s){const c=s.relatedTarget,m=s.target;if(c!==m&&a.value?.contentEl&&a.value?.globalTop&&![document,a.value.contentEl].includes(m)&&!a.value.contentEl.contains(m)){const o=I(a.value.contentEl);if(!o.length)return;const h=o[0],g=o[o.length-1];c===h?g.focus():h.focus()}}R(()=>{document.removeEventListener("focusin",i)}),q&&k(()=>t.value&&e.retainFocus,s=>{s?document.addEventListener("focusin",i):document.removeEventListener("focusin",i)},{immediate:!0});function d(){n("afterEnter"),(e.scrim||e.retainFocus)&&a.value?.contentEl&&!a.value.contentEl.contains(document.activeElement)&&a.value.contentEl.focus({preventScroll:!0})}function f(){n("afterLeave")}return k(t,async s=>{s||(await H(),a.value.activatorEl?.focus({preventScroll:!0}))}),W(()=>{const s=A.filterProps(e),c=y({"aria-haspopup":"dialog"},e.activatorProps),m=y({tabindex:-1},e.contentProps);return v(A,y({ref:a,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},s,{modelValue:t.value,"onUpdate:modelValue":o=>t.value=o,"aria-modal":"true",activatorProps:c,contentProps:m,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:d,onAfterLeave:f},u),{activator:l.activator,default:function(){for(var o=arguments.length,h=new Array(o),g=0;g<o;g++)h[g]=arguments[g];return v(N,{root:"VDialog"},{default:()=>[l.default?.(...h)]})}})}),pe({},a)}}),Ve=V({color:String,...se(),...oe(),...ne(),...ae(),...te(),...ee(),..._(),...K(),...G()},"VSheet"),be=w()({name:"VSheet",props:Ve(),setup(e,r){let{slots:n}=r;const{themeClasses:l}=U(e),{backgroundColorClasses:t,backgroundColorStyles:u}=j(()=>e.color),{borderClasses:a}=z(e),{dimensionStyles:i}=X(e),{elevationClasses:d}=Y(e),{locationStyles:f}=Z(e),{positionClasses:s}=J(e),{roundedClasses:c}=Q(e);return W(()=>v(e.tag,{class:["v-sheet",l.value,t.value,a.value,d.value,s.value,c.value,e.class],style:[u.value,i.value,f.value,e.style]},n)),{}}}),ke={key:1},De={__name:"PopUp",props:ie({widget:{type:Object,default:void 0},maxWidth:{type:String,default:"500px"},maxHeight:{type:String,default:"500px"},width:{type:String,default:"500px"},height:{type:String,default:"500px"}},{modelValue:{type:Boolean,required:!0,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const r=re(e,"modelValue"),n=e,l={maxWidth:n.maxWidth,maxHeight:n.maxHeight,width:n.width,height:n.height},[t]=le([n?.widget]);return(u,a)=>(x(),S("span",null,[v(we,y(l,{absolute:"",scrollable:"","scroll-strategy":"block","close-on-back":"",modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=i=>r.value=i)}),{default:C(()=>[v(be,null,{default:C(()=>[e.widget?(x(),ce(ue(P(t).component),y({key:P(t).id},P(t).props),null,16)):B("v-if",!0),u.$slots.default?(x(),S("span",ke,[de(u.$slots,"default")])):B("v-if",!0)]),_:3})]),_:3},16,["modelValue"])]))}};export{De as default};
