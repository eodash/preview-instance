import{C as V,p as k,f as h,g as E,h as b,aD as S,aE as C,aF as D,aG as B,$ as q,aH as N,aI as U,a6 as L,a3 as A,E as H,aJ as T,aK as K,ae as z,af as j,ag as G,D as X,ah as Y,aL as J,aM as Q,ai as _,ao as Z,G as ee,ap as te,aN as ae,aO as ne,ar as oe,H as se,I as ie,as as re,aP as le,aQ as ce,a2 as ue,b as F,w as R,e as w,d as de,y as $,r as fe,aR as me}from"./main-Q31mW-EY.js";import{a as p,g as ge,n as ve,u as he,f as ye,m as pe,V as O}from"./forwardRefs-DH6wnWBi.js";import{a as Ee,d as we,n as Pe,u as P}from"./templates-CP4OFojK.js";import"./transition-BXTZPH8Z.js";const xe=k({target:[Object,Array]},"v-dialog-transition"),x=new WeakMap,Ve=V()({name:"VDialogTransition",props:xe(),setup(e,r){let{slots:o}=r;const l={onBeforeEnter(t){t.style.pointerEvents="none",t.style.visibility="hidden"},async onEnter(t,c){await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),t.style.visibility="";const a=M(e.target,t),{x:i,y:d,sx:f,sy:m,speed:n}=a;if(x.set(t,a),S())p(t,[{opacity:0},{}],{duration:125*n,easing:D}).finished.then(()=>c());else{const s=p(t,[{transform:`translate(${i}px, ${d}px) scale(${f}, ${m})`,opacity:0},{}],{duration:225*n,easing:D});W(t)?.forEach(u=>{p(u,[{opacity:0},{opacity:0,offset:.33},{}],{duration:450*n,easing:B})}),s.finished.then(()=>c())}},onAfterEnter(t){t.style.removeProperty("pointer-events")},onBeforeLeave(t){t.style.pointerEvents="none"},async onLeave(t,c){await new Promise(s=>requestAnimationFrame(s));let a;!x.has(t)||Array.isArray(e.target)||e.target.offsetParent||e.target.getClientRects().length?a=M(e.target,t):a=x.get(t);const{x:i,y:d,sx:f,sy:m,speed:n}=a;S()?p(t,[{},{opacity:0}],{duration:85*n,easing:C}).finished.then(()=>c()):(p(t,[{},{transform:`translate(${i}px, ${d}px) scale(${f}, ${m})`,opacity:0}],{duration:125*n,easing:C}).finished.then(()=>c()),W(t)?.forEach(u=>{p(u,[{},{opacity:0,offset:.2},{opacity:0}],{duration:250*n,easing:B})}))},onAfterLeave(t){t.style.removeProperty("pointer-events")}};return()=>e.target?h(b,E({name:"dialog-transition"},l,{css:!1}),o):h(b,{name:"dialog-transition"},o)}});function W(e){const r=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list")?.children;return r&&[...r]}function M(e,r){const o=ge(e),l=ve(r),[t,c]=getComputedStyle(r).transformOrigin.split(" ").map(I=>parseFloat(I)),[a,i]=getComputedStyle(r).getPropertyValue("--v-overlay-anchor-origin").split(" ");let d=o.left+o.width/2;a==="left"||i==="left"?d-=o.width/2:(a==="right"||i==="right")&&(d+=o.width/2);let f=o.top+o.height/2;a==="top"||i==="top"?f-=o.height/2:(a==="bottom"||i==="bottom")&&(f+=o.height/2);const m=o.width/l.width,n=o.height/l.height,s=Math.max(1,m,n),u=m/s||0,g=n/s||0,v=l.width*l.height/(window.innerWidth*window.innerHeight),y=v>.12?Math.min(1.5,(v-.12)*10+1):1;return{x:d-(t+l.left),y:f-(c+l.top),sx:u,sy:g,speed:y}}const ke=k({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...pe({origin:"center center",scrollStrategy:"block",transition:{component:Ve},zIndex:2400})},"VDialog"),be=V()({name:"VDialog",props:ke(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,r){let{emit:o,slots:l}=r;const t=q(e,"modelValue"),{scopeId:c}=he(),a=Ee();async function i(n){const s=n.relatedTarget,u=n.target;await A(),t.value&&s!==u&&a.value?.contentEl&&a.value?.globalTop&&![document,a.value.contentEl].includes(u)&&!a.value.contentEl.contains(u)&&T(a.value.contentEl)[0]?.focus()}function d(n){if(n.key!=="Tab"||!a.value?.contentEl)return;const s=T(a.value.contentEl);if(!s.length)return;const u=s[0],g=s[s.length-1],v=document.activeElement;n.shiftKey&&v===u?(n.preventDefault(),g.focus()):!n.shiftKey&&v===g&&(n.preventDefault(),u.focus())}N(()=>{document.removeEventListener("focusin",i),document.removeEventListener("keydown",d)}),U&&L(()=>t.value&&e.retainFocus,n=>{n?(document.addEventListener("focusin",i,{once:!0}),document.addEventListener("keydown",d)):(document.removeEventListener("focusin",i),document.removeEventListener("keydown",d))},{immediate:!0});function f(){o("afterEnter"),(e.scrim||e.retainFocus)&&a.value?.contentEl&&!a.value.contentEl.contains(document.activeElement)&&a.value.contentEl.focus({preventScroll:!0})}function m(){o("afterLeave")}return L(t,async n=>{n||(await A(),a.value.activatorEl?.focus({preventScroll:!0}))}),H(()=>{const n=O.filterProps(e),s=E({"aria-haspopup":"dialog"},e.activatorProps),u=E({tabindex:-1},e.contentProps);return h(O,E({ref:a,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},n,{modelValue:t.value,"onUpdate:modelValue":g=>t.value=g,"aria-modal":"true",activatorProps:s,contentProps:u,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:f,onAfterLeave:m},c),{activator:l.activator,default:function(){for(var g=arguments.length,v=new Array(g),y=0;y<g;y++)v[y]=arguments[y];return h(K,{root:"VDialog"},{default:()=>[l.default?.(...v)]})}})}),ye({},a)}}),Se=k({color:String,...re(),...ie(),...se(),...oe(),...ne(),...ae(),...te(),...ee(),...Z()},"VSheet"),Ce=V()({name:"VSheet",props:Se(),setup(e,r){let{slots:o}=r;const{themeClasses:l}=z(e),{backgroundColorClasses:t,backgroundColorStyles:c}=j(()=>e.color),{borderClasses:a}=G(e),{dimensionStyles:i}=X(e),{elevationClasses:d}=Y(e),{locationStyles:f}=J(e),{positionClasses:m}=Q(e),{roundedClasses:n}=_(e);return H(()=>h(e.tag,{class:Pe(["v-sheet",l.value,t.value,a.value,d.value,m.value,n.value,e.class]),style:we([c.value,i.value,f.value,e.style])},o)),{}}}),De={key:1},Fe={__name:"PopUp",props:le({widget:{type:Object,default:void 0},maxWidth:{type:String,default:"500px"},maxHeight:{type:String,default:"500px"},width:{type:String,default:"500px"},height:{type:String,default:"500px"}},{modelValue:{type:Boolean,required:!0,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const r=ce(e,"modelValue"),o=e,l={maxWidth:o.maxWidth,maxHeight:o.maxHeight,width:o.width,height:o.height},[t]=ue([o?.widget]);return(c,a)=>(w(),F("span",null,[h(be,E(l,{absolute:"",scrollable:"","scroll-strategy":"block","close-on-back":"",modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=i=>r.value=i)}),{default:R(()=>[h(Ce,null,{default:R(()=>[e.widget?(w(),de(fe(P(t).component),E({key:P(t).id},P(t).props),null,16)):$("v-if",!0),c.$slots.default?(w(),F("span",De,[me(c.$slots,"default")])):$("v-if",!0)]),_:3})]),_:3},16,["modelValue"])]))}};export{Fe as default};
