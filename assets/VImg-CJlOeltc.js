import{aZ as j,C as I,aD as ie,T as D,h as W,k as q,p as C,D as ae,E as M,x as S,H as re,I as G,U as R,af as se,ai as oe,a_ as le,a6 as P,a$ as ue,a3 as ce,aH as de,A as N,f as y,g as fe,an as ve,ap as ge,F as me,B as ye}from"./main-CuGDtoyF.js";import{z as Se,d as F,n as z,s as w,a as he,t as _e}from"./templates-CP4OFojK.js";import{m as be,M as x}from"./transition-C5gn5Vo0.js";function we(e,o){if(!j)return;const a=o.modifiers||{},i=o.value,{handler:u,options:v}=typeof i=="object"?i:{handler:i,options:{}},t=new IntersectionObserver(function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],m=arguments.length>1?arguments[1]:void 0;const r=e._observe?.[o.instance.$.uid];if(!r)return;const s=n.some(g=>g.isIntersecting);u&&(!a.quiet||r.init)&&(!a.once||s||r.init)&&u(s,n,m),s&&a.once?J(e,o):r.init=!0},v);e._observe=Object(e._observe),e._observe[o.instance.$.uid]={init:!1,observer:t},t.observe(e)}function J(e,o){const a=e._observe?.[o.instance.$.uid];a&&(a.observer.unobserve(e),delete e._observe[o.instance.$.uid])}const U={mounted:we,unmounted:J},xe=C({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function c(e,o,a){return I()({name:e,props:xe({mode:a,origin:o}),setup(i,u){let{slots:v}=u;const t={onBeforeEnter(n){i.origin&&(n.style.transformOrigin=i.origin)},onLeave(n){if(i.leaveAbsolute){const{offsetTop:m,offsetLeft:r,offsetWidth:s,offsetHeight:g}=n;n._transitionInitialStyles={position:n.style.position,top:n.style.top,left:n.style.left,width:n.style.width,height:n.style.height},n.style.position="absolute",n.style.top=`${m}px`,n.style.left=`${r}px`,n.style.width=`${s}px`,n.style.height=`${g}px`}i.hideOnLeave&&n.style.setProperty("display","none","important")},onAfterLeave(n){if(i.leaveAbsolute&&n?._transitionInitialStyles){const{position:m,top:r,left:s,width:g,height:h}=n._transitionInitialStyles;delete n._transitionInitialStyles,n.style.position=m||"",n.style.top=r||"",n.style.left=s||"",n.style.width=g||"",n.style.height=h||""}}};return()=>{const n=i.group?D:W;return q(n,{name:i.disabled?"":e,css:!i.disabled,...i.group?void 0:{mode:i.mode},...i.disabled?{}:t},v.default)}}})}function Z(e,o){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return I()({name:e,props:{mode:{type:String,default:a},disabled:{type:Boolean,default:ie()},group:Boolean},setup(i,u){let{slots:v}=u;const t=i.group?D:W;return()=>q(t,{name:i.disabled?"":e,css:!i.disabled,...i.disabled?{}:o},v.default)}})}function K(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const a=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=Se(`offset-${a}`);return{onBeforeEnter(t){t._parent=t.parentNode,t._initialStyle={transition:t.style.transition,overflow:t.style.overflow,[a]:t.style[a]}},onEnter(t){const n=t._initialStyle;if(!n)return;t.style.setProperty("transition","none","important"),t.style.overflow="hidden";const m=`${t[i]}px`;t.style[a]="0",t.offsetHeight,t.style.transition=n.transition,e&&t._parent&&t._parent.classList.add(e),requestAnimationFrame(()=>{t.style[a]=m})},onAfterEnter:v,onEnterCancelled:v,onLeave(t){t._initialStyle={transition:"",overflow:t.style.overflow,[a]:t.style[a]},t.style.overflow="hidden",t.style[a]=`${t[i]}px`,t.offsetHeight,requestAnimationFrame(()=>t.style[a]="0")},onAfterLeave:u,onLeaveCancelled:u};function u(t){e&&t._parent&&t._parent.classList.remove(e),v(t)}function v(t){if(!t._initialStyle)return;const n=t._initialStyle[a];t.style.overflow=t._initialStyle.overflow,n!=null&&(t.style[a]=n),delete t._initialStyle}}c("fab-transition","center center","out-in");c("dialog-bottom-transition");c("dialog-top-transition");c("fade-transition");c("scale-transition");c("scroll-x-transition");c("scroll-x-reverse-transition");c("scroll-y-transition");c("scroll-y-reverse-transition");c("slide-x-transition");c("slide-x-reverse-transition");c("slide-y-transition");c("slide-y-reverse-transition");const Re=Z("expand-transition",K());Z("expand-x-transition",K("",!0));function ze(e){return{aspectStyles:R(()=>{const o=Number(e.aspectRatio);return o?{paddingBottom:String(1/o*100)+"%"}:void 0})}}const Q=C({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...G(),...re()},"VResponsive"),H=I()({name:"VResponsive",props:Q(),setup(e,o){let{slots:a}=o;const{aspectStyles:i}=ze(e),{dimensionStyles:u}=ae(e);return M(()=>S("div",{class:z(["v-responsive",{"v-responsive--inline":e.inline},e.class]),style:F([u.value,e.style])},[S("div",{class:"v-responsive__sizer",style:F(i.value)},null),a.additional?.(),a.default&&S("div",{class:z(["v-responsive__content",e.contentClass])},[a.default()])])),{}}}),Ie=C({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...Q(),...G(),...ge(),...be()},"VImg"),Ce=I()({name:"VImg",directives:{vIntersect:U},props:Ie(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,o){let{emit:a,slots:i}=o;const{backgroundColorClasses:u,backgroundColorStyles:v}=se(()=>e.color),{roundedClasses:t}=oe(e),n=le("VImg"),m=w(""),r=he(),s=w(e.eager?"loading":"idle"),g=w(),h=w(),d=R(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),_=R(()=>d.value.aspect||g.value/h.value||0);P(()=>e.src,()=>{T(s.value!=="idle")}),P(_,(l,f)=>{!l&&f&&r.value&&b(r.value)}),ue(()=>T());function T(l){if(!(e.eager&&l)&&!(j&&!l&&!e.eager)){if(s.value="loading",d.value.lazySrc){const f=new Image;f.src=d.value.lazySrc,b(f,null)}d.value.src&&ce(()=>{a("loadstart",r.value?.currentSrc||d.value.src),setTimeout(()=>{if(!n.isUnmounted)if(r.value?.complete){if(r.value.naturalWidth||$(),s.value==="error")return;_.value||b(r.value,null),s.value==="loading"&&E()}else _.value||b(r.value),k()})})}}function E(){n.isUnmounted||(k(),b(r.value),s.value="loaded",a("load",r.value?.currentSrc||d.value.src))}function $(){n.isUnmounted||(s.value="error",a("error",r.value?.currentSrc||d.value.src))}function k(){const l=r.value;l&&(m.value=l.currentSrc||l.src)}let B=-1;de(()=>{clearTimeout(B)});function b(l){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const L=()=>{if(clearTimeout(B),n.isUnmounted)return;const{naturalHeight:O,naturalWidth:p}=l;O||p?(g.value=p,h.value=O):!l.complete&&s.value==="loading"&&f!=null?B=window.setTimeout(L,f):(l.currentSrc.endsWith(".svg")||l.currentSrc.startsWith("data:image/svg+xml"))&&(g.value=1,h.value=1)};L()}const V=_e(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),X=()=>{if(!d.value.src||s.value==="idle")return null;const l=S("img",{class:z(["v-img__img",V.value]),style:{objectPosition:e.position},crossorigin:e.crossorigin,src:d.value.src,srcset:d.value.srcset,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:r,onLoad:E,onError:$},null),f=i.sources?.();return y(x,{transition:e.transition,appear:!0},{default:()=>[N(f?S("picture",{class:"v-img__picture"},[f,l]):l,[[ye,s.value==="loaded"]])]})},Y=()=>y(x,{transition:e.transition},{default:()=>[d.value.lazySrc&&s.value!=="loaded"&&S("img",{class:z(["v-img__img","v-img__img--preload",V.value]),style:{objectPosition:e.position},crossorigin:e.crossorigin,src:d.value.lazySrc,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),ee=()=>i.placeholder?y(x,{transition:e.transition,appear:!0},{default:()=>[(s.value==="loading"||s.value==="error"&&!i.error)&&S("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,te=()=>i.error?y(x,{transition:e.transition,appear:!0},{default:()=>[s.value==="error"&&S("div",{class:"v-img__error"},[i.error()])]}):null,ne=()=>e.gradient?S("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,A=w(!1);{const l=P(_,f=>{f&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{A.value=!0})}),l())})}return M(()=>{const l=H.filterProps(e);return N(y(H,fe({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!A.value},u.value,t.value,e.class],style:[{width:ve(e.width==="auto"?g.value:e.width)},v.value,e.style]},l,{aspectRatio:_.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>S(me,null,[y(X,null,null),y(Y,null,null),y(ne,null,null),y(ee,null,null),y(te,null,null)]),default:i.default}),[[U,{handler:T,options:e.options},null,{once:!0}]])}),{currentSrc:m,image:r,state:s,naturalWidth:g,naturalHeight:h}}});export{Ce as V,Re as a};
