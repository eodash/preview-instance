import{at as n}from"./index-DUUeD5Lt.js";const i=n({id:"preview",stacEndpoint:o(),brand:{noLayout:!0,name:"Preview",font:{headers:{family:"Open Sans",link:"https://eox.at/fonts/opensans/opensans.css"},body:{family:"Sintony",link:"https://eox.at/fonts/sintony/sintony.css"}},theme:{colors:{primary:"#002742",secondary:"#0071C2",surface:"#ffff"},variables:{"surface-opacity":.6,"primary-opacity":.8},collectionsPalette:["#009E73","#E69F00","#56B4E9","#009E73","#F0E442","#0072B2","#D55E00","#CC79A7","#994F00"]},footerText:"Demo configuration of eodash client"},template:{loading:{id:Symbol(),type:"web-component",widget:{link:"https://cdn.jsdelivr.net/npm/ldrs/dist/auto/mirage.js",tagName:"l-mirage",properties:{class:"align-self-center justify-self-center",size:"120",speed:"2.5",color:"#004170"}}},background:{id:"background-map",type:"internal",widget:{name:"EodashMap",properties:{enableCompare:!0}}},widgets:[{id:Symbol(),type:"internal",title:"Tools",layout:{x:0,y:0,w:3,h:1},widget:{name:"EodashTools",properties:{showLayoutSwitcher:!1,itemFilterConfig:{resultType:"cards",subTitleProperty:"subtitle",imageProperty:"thumbnail",aggregateResults:"collection_group",style:{"--form-flex-direction":"row"}}}}},{id:Symbol(),type:"internal",title:"Layers",layout:{x:0,y:1,w:3,h:6},widget:{name:"EodashLayerControl"}},{defineWidget:t=>t?{id:"Information",title:"Information",layout:{x:9,y:0,w:3,h:6},type:"internal",widget:{name:"EodashStacInfo"}}:null},{defineWidget:t=>t?{id:"expert-datepicker",type:"internal",layout:{x:5,y:11,w:2,h:1},title:"Date",widget:{name:"EodashDatePicker",properties:{hintText:`<b>Hint:</b> closest available date is displayed <br />
                            on map (see Analysis Layers)`,toggleCalendar:!0}}}:null},{defineWidget:t=>t?{id:"Buttons",layout:{x:8,y:0,w:1,h:2},title:"Buttons",type:"internal",widget:{name:"EodashMapBtns",properties:{compareIndicators:!1}}}:null},{defineWidget:t=>t?.links.some(e=>e.rel==="service")?{id:"Processes",type:"internal",title:"Processes",layout:{x:9,y:6,w:3,h:5},widget:{name:"EodashProcess"}}:null}]}});function o(){const e=new URLSearchParams(window.location.search).get("stacEndpoint");if(e&&e.endsWith("catalog.json"))return console.log("[eodash-preview-instance] assigned stacEndpoint:",e),e+"?t="+Date.now();if(window.parent!==window){const a={type:"eodash:loaded",endpoint:new URL(window.location.href).searchParams.get("stacEndpoint")};window.parent.postMessage(a,"*")}return console.warn("[eodash-preview-instance] stacEndpoint not assigned, using default"),""}window.addEventListener("message",t=>{switch(t.data.type){case"eodash:reload":window.location.reload();break;case"eodash:stacEndpoint":const e=t?.data.endpoint;if(console.log("stacEndpoint from parent:",e),e&&e.endsWith("catalog.json")){const a=new URLSearchParams(window.location.search);a.set("stacEndpoint",e),window.history.replaceState({},"",`?${a}`),window.location.reload(),console.log("[eodash-preview-instance] assigned stacEndpoint:",e)}break}});export{i as default};
